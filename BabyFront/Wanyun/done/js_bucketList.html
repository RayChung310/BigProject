<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>購物車</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .qty-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-weight: bold;
    }
    .qty-number {
      width: 36px;
      height: 36px;
      line-height: 36px;
      text-align: center;
      border-radius: 50%;
      background: #fff;
      border: 1px solid #ccc;
      display: inline-block;
    }
    .product-info small {
      display: block;
      color: #666;
    }
  </style>
</head>
<body class="p-4 bg-light">
  <div class="container bg-white p-4 rounded shadow">
    <table class="table align-middle text-center">
      <thead class="table-light">
        <tr>
          <th>項目</th>
          <th>單價</th>
          <th>數量</th>
          <th>小計</th>
        </tr>
      </thead>
      <tbody id="cart-body">
        <tr data-price="312">
          <td class="text-start">
            <div class="d-flex align-items-center">
              <img src="car_blanket.jpg" alt="汽車鋪棉肚圍" width="80" class="me-3">
              <div><div class="fw-bold text-primary">麗嬰房汽車鋪棉肚圍</div></div>
            </div>
          </td>
          <td>$312</td>
          <td>
            <button class="btn btn-outline-secondary qty-btn" onclick="updateQty(this, -1)">-</button>
            <span class="qty-number mx-2">1</span>
            <button class="btn btn-primary qty-btn" onclick="updateQty(this, 1)">+</button>
          </td>
          <td class="subtotal">$312</td>
        </tr>

        <tr data-price="693">
          <td class="text-start">
            <div class="d-flex align-items-center">
              <img src="pineapple_12m.jpg" alt="包屁衣12M" width="80" class="me-3">
              <div class="product-info">
                <div class="fw-bold text-primary">麗嬰房野餐系鳳梨包屁衣</div>
                <small>顏色：鮮黃</small>
                <small>產品規格：12M</small>
              </div>
            </div>
          </td>
          <td>$693</td>
          <td>
            <button class="btn btn-outline-secondary qty-btn" onclick="updateQty(this, -1)">-</button>
            <span class="qty-number mx-2">1</span>
            <button class="btn btn-primary qty-btn" onclick="updateQty(this, 1)">+</button>
          </td>
          <td class="subtotal">$693</td>
        </tr>

        <tr data-price="693">
          <td class="text-start">
            <div class="d-flex align-items-center">
              <img src="pineapple_6m.jpg" alt="包屁衣6M" width="80" class="me-3">
              <div class="product-info">
                <div class="fw-bold text-primary">麗嬰房野餐系鳳梨包屁衣</div>
                <small>顏色：鮮黃</small>
                <small>產品規格：6M</small>
              </div>
            </div>
          </td>
          <td>$693</td>
          <td>
            <button class="btn btn-outline-secondary qty-btn" onclick="updateQty(this, -1)">-</button>
            <span class="qty-number mx-2">1</span>
            <button class="btn btn-primary qty-btn" onclick="updateQty(this, 1)">+</button>
          </td>
          <td class="subtotal">$693</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    function updateQty(button, delta) {
      const row = button.closest('tr');
      const qtySpan = row.querySelector('.qty-number');
      let qty = parseInt(qtySpan.textContent);
      qty = Math.max(1, qty + delta); // 最小為 1
      qtySpan.textContent = qty;
      const unitPrice = parseInt(row.getAttribute('data-price'));
      const subtotalCell = row.querySelector('.subtotal');
      subtotalCell.textContent = `$${qty * unitPrice}`;
    }
  </script>
</body>
</html>
