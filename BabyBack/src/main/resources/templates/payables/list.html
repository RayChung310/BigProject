<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>應付帳款列表</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

	<body class="p-4">
	
		<h2>應付帳款列表</h2>
	
		<table class="table table-bordered">
		    <thead>
		        <tr>
		            <th>進貨單編號</th>
		            <th>應付日期</th>
		            <th>金額</th>
		            <th>狀態</th>
		            <th>操作</th>
		        </tr>
		    </thead>
		    <tbody>
		        <tr th:each="item : ${payables}">
		            <td th:text="${item.purchaseOrder != null ? item.purchaseOrder.id : '—'}">1</td>
		            <td th:text="${#dates.format(item.payableDate, 'yyyy-MM-dd')}">2025-06-16</td>
		            <td th:text="${item.amount != null ? item.amount : '0'}">10000</td>
		            <td th:text="${item.status}">未付款</td>
		            <td>
		                <a th:if="${item.status == '未付款'}"
		                   th:href="@{'/payables/pay/' + ${item.id}}"
		                   class="btn btn-sm btn-success">付款</a>
		                <span th:if="${item.status == '已付款'}" class="text-muted">已付款</span>
		            </td>
		        </tr>
		    </tbody>
		</table>

		<div class="text-end">
			<a class="btn btn-outline-secondary" th:href="@{/}"><i class="bi bi-arrow-left-circle me-1"></i>返回</a>
		</div>
		
	</body>
</html>
